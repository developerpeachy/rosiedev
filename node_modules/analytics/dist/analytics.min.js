var _analytics=function(t){"use strict";var e=function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}};var r=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)};var n=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")};var A=function(t){return e(t)||r(t)||n()};var g=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t};function o(t,e){return t(e={exports:{}},e.exports),e.exports}var _=o(function(e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?e.exports=n=function(t){return r(t)}:e.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)},n(t)}e.exports=n}),i="object"==typeof global&&global&&global.Object===Object&&global,a="object"==typeof self&&self&&self.Object===Object&&self,c=(i||a||Function("return this")()).Symbol,u=Object.prototype,s=u.hasOwnProperty,f=u.toString,l=c?c.toStringTag:void 0;var p=Object.prototype.toString;var d="[object Null]",y="[object Undefined]",h=c?c.toStringTag:void 0;function m(t){return null==t?void 0===t?y:d:h&&h in Object(t)?function(t){var e=s.call(t,l),r=t[l];try{var n=!(t[l]=void 0)}catch(t){}var o=f.call(t);return n&&(e?t[l]=r:delete t[l]),o}(t):(e=t,p.call(e));var e}var v,b,O=(v=Object.getPrototypeOf,b=Object,function(t){return v(b(t))});var w,j="[object Object]",P=Function.prototype,E=Object.prototype,S=P.toString,x=E.hasOwnProperty,I=S.call(Object);w="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")();var k,N,T=("function"==typeof(N=w.Symbol)?N.observable?k=N.observable:(k=N("observable"),N.observable=k):k="@@observable",k),D={INIT:"@@redux/INIT"};function L(t,e,r){var n;if("function"==typeof e&&void 0===r&&(r=e,e=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(L)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var o=t,i=e,a=[],c=a,u=!1;function s(){c===a&&(c=a.slice())}function f(){return i}function l(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var r=!0;return s(),c.push(e),function(){if(r){r=!1,s();var t=c.indexOf(e);c.splice(t,1)}}}function p(t){if(!function(t){if(null==(e=t)||"object"!=typeof e||m(t)!=j)return!1;var e,r=O(t);if(null===r)return!0;var n=x.call(r,"constructor")&&r.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==I}(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,i=o(i,t)}finally{u=!1}for(var e=a=c,r=0;r<e.length;r++){(0,e[r])()}return t}return p({type:D.INIT}),(n={dispatch:p,subscribe:l,getState:f,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");o=t,p({type:D.INIT})}})[T]=function(){var t,r=l;return(t={subscribe:function(t){if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");function e(){t.next&&t.next(f())}return e(),{unsubscribe:r(e)}}})[T]=function(){return this},t},n}function M(t){for(var e=Object.keys(t),d={},r=0;r<e.length;r++){var n=e[r];"function"==typeof t[n]&&(d[n]=t[n])}var o,y=Object.keys(d),g=void 0;try{o=d,Object.keys(o).forEach(function(t){var e=o[t];if(void 0===e(void 0,{type:D.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===e(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+D.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}catch(t){g=t}return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(g)throw g;for(var r,n,o,i=!1,a={},c=0;c<y.length;c++){var u=y[c],s=d[u],f=t[u],l=s(f,e);if(void 0===l){var p=(r=u,o=void 0,"Given action "+((o=(n=e)&&n.type)&&'"'+o.toString()+'"'||"an action")+', reducer "'+r+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.');throw new Error(p)}a[u]=l,i=i||l!==f}return i?a:t}}function R(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}var q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var C="undefined"!=typeof window;var z=function(){try{if(!C)return!1;var t="cookietest=";document.cookie="".concat(t,"1");var e=-1!==document.cookie.indexOf(t);return document.cookie="".concat(t,"1; expires=Thu, 01-Jan-1970 00:00:01 GMT"),e}catch(t){return!1}}();function F(t,e,r){if(!z)return!1;var n="";if(r){var o=new Date;o.setTime(o.getTime()+24*r*60*60*1e3),n="; expires=".concat(o.toGMTString())}document.cookie="".concat(t,"=").concat(e).concat(n,"; path=/")}function V(t){if(!z)return!1;for(var e="".concat(t,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(e))return o.substring(e.length,o.length)}return null}function $(t){return decodeURIComponent(t).replace(/\+/g," ")}function G(t){if(!C)return!1;var e=t||document.referrer;if(e){var r=window.document.location.port,n=e.split("/")[2];return r&&(n=n.replace(":".concat(r),"")),n!==window.location.hostname}return!1}function U(t){var e=function(t){if(t){var e=t.match(/\?(.*)/);return e&&e[1]?e[1].split("#")[0]:""}return C&&window.location.search.substring(1)}(t);return e?function(t){var e,r=/([^&=]+)=?([^&]*)/g,n={};for(;e=r.exec(t);){var o=$(e[1]),i=$(e[2]);if("[]"===o.substring(o.length-2))o=o.substring(0,o.length-2),(n[o]||(n[o]=[])).push(i);else{var a=""===i||i;n[o]=a}}for(var c in n){var u=c.split("[");if(1<u.length){var s=[];u.forEach(function(t,e){var r=t.replace(/[?[\]\\ ]/g,"");s.push(r)}),Y(n,s,n[c]),delete n[c]}}return n}(e):{}}function Y(t,e,r){for(var n=e.length-1,o=0;o<n;++o){var i=e[o];i in t||(t[i]={}),t=t[i]}t[e[n]]=r}function B(o,i){return C?new Promise(function(t,e){if(window.history&&window.history.replaceState){var r=window.location.href,n=function(t,e){var r=(t.split("?")||[,])[1];if(!r||-1===r.indexOf(e))return t;var n=new RegExp("(\\&|\\?)".concat(e,'([_A-Za-z0-9"+=.%]+)'),"g"),o="?".concat(r).replace(n,"").replace(/^&/,"?");return t.replace("?".concat(r),o)}(r,o);r!==n&&history.replaceState({},"",n)}return i&&i(),t()}):Promise.resolve()}function J(t){return(function(t){if(!C)return null;var e=document.createElement("a");return e.setAttribute("href",t),e.hostname}(t)||"").split(".").slice(-2).join(".")}var H="google";var W={"daum.net":"q","eniro.se":"search_word","naver.com":"query","yahoo.com":"p","msn.com":"q","aol.com":"q","lycos.com":"q","ask.com":"q","cnn.com":"query","about.com":"terms","baidu.com":"wd","yandex.com":"text","seznam.cz":"q","search.com":"q","yam.com":"k","kvasir.no":"q","terra.com":"query","mynet.com":"q","rambler.ru":"words",google:"q","bing.com":{p:"q",n:"live"}};function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(e){var r;try{void 0===(r=JSON.parse(e))&&(r=e),"true"===r&&(r=!0),"false"===r&&(r=!1),parseFloat(r)===r&&"object"!==X(r)&&(r=parseFloat(r))}catch(t){r=e}return r}var K="undefined"!=typeof self&&self?self:"undefined"!=typeof window&&window?window:"undefined"!=typeof global&&global?global:"undefined"!=typeof globalThis&&globalThis?globalThis:void 0;var Q=function(){if(!C)return!1;try{if("undefined"==typeof localStorage||"undefined"==typeof JSON)return!1;localStorage.setItem("_test_","1"),localStorage.removeItem("_test_")}catch(t){return!1}return!0}();function tt(t){return"string"==typeof t?t:t.storage}function et(t){return Q&&(!t||"localStorage"===t)}function rt(t){return z&&(!t||"cookie"===t)}var nt={getItem:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!t)return null;var r=tt(e);if(et(r)){var n=localStorage.getItem(t);if(n||"localStorage"===r)return Z(n)}if(rt(r)){var o=V(t);if(o||"cookie"===r)return Z(o)}return K[t]||null},setItem:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!t||!e)return!1;var n=tt(r),o=JSON.stringify(e);if(et(n)){var i=Z(localStorage.getItem(t));return localStorage.setItem(t,o),{value:e,oldValue:i,type:"localStorage"}}if(rt(n)){var a=Z(V(t));return F(t,o),{value:e,oldValue:a,type:"cookie"}}var c=K[t];return{value:K[t]=e,oldValue:c,type:"window"}},removeItem:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!t)return!1;var r=tt(e);return et(r)?(localStorage.removeItem(t),null):rt(r)?(n=t,z&&F(n,"",-1),null):K[t]=null;var n}};function ot(){for(var t,e,r,n,o=[],i=0;i<256;i++)o[i]=(i<16?"0":"")+i.toString(16);return t=it(),e=it(),r=it(),n=it(),"".concat(o[255&t]+o[t>>8&255]+o[t>>16&255]+o[t>>24&255],"-").concat(o[255&e]).concat(o[e>>8&255],"-").concat(o[e>>16&15|64]).concat(o[e>>24&255],"-").concat(o[63&r|128]).concat(o[r>>8&255],"-").concat(o[r>>16&255]).concat(o[r>>24&255]).concat(o[255&n]).concat(o[n>>8&255]).concat(o[n>>16&255]).concat(o[n>>24&255])}function it(){return 4294967295*Math.random()|0}var at=["bootstrap","params","campaign","initializeStart","initialize","initializeEnd","ready","resetStart","reset","resetEnd","pageStart","page","pageEnd","pageAborted","trackStart","track","trackEnd","trackAborted","identifyStart","identify","identifyEnd","identifyAborted","userIdChanged","registerPlugins","enablePlugin","disablePlugin","loadPlugin","online","offline","setItemStart","setItem","setItemEnd","setItemAborted","removeItemStart","removeItem","removeItemEnd","removeItemAborted"],ct=["NAMESPACE","EVENTS","config","loaded"],ut=at.reduce(function(t,e){return t[e]=e,t},{registerPluginType:function(t){return"registerPlugin:".concat(t)},pluginReadyType:function(t){return"ready:".concat(t)}});var st="__anon_id",ft="__user_id",lt="__user_traits",pt=Object.freeze({ANON_ID:st,USER_ID:ft,USER_TRAITS:lt});function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yt(a){return function(i){return function(o){return function(t){if(t.type===ut.bootstrap){nt.getItem(st)||a.storage.setItem(st,ot());var r=U(),e=Object.keys(r);if(e.length){var n=e.reduce(function(t,e){return(e.match(/^utm_/)||e.match(/^(d|g)clid/))&&(t.campaign[e]=r[e]),e.match(/^an_prop_/)&&(t.props["".concat(e.replace(/^an_prop_/,""))]=r[e]),e.match(/^an_trait_/)&&(t.traits["".concat(e.replace(/^an_trait_/,""))]=r[e]),t},{campaign:{},props:{},traits:{}});i.dispatch(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(r,!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({type:ut.params,raw:r},n)),r.an_uid&&setTimeout(function(){a.identify(r.an_uid,n.traits)},0),r.an_event&&setTimeout(function(){a.track(r.an_event,n.props)},0),Object.keys(n.campaign).length&&i.dispatch({type:ut.campaign,campaign:n.campaign}),r.an_clean&&setTimeout(function(){B("an_")},0)}}return o(t)}}}}function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ht(t){var s=t.storage;return function(u){return function(c){return function(t){var e=t.userId,r=t.traits,n=t.options,o=t.callback;if(t.type===ut.reset&&(s.removeItem(ft),s.removeItem(lt),s.removeItem(st),o&&"function"==typeof o&&o()),t.type===ut.identify){var i=s.getItem(ft),a=s.getItem(lt)||{};i&&i!==e&&u.dispatch({type:ut.userIdChanged,old:{userId:i,traits:a},new:{userId:e,traits:r},options:n}),e&&s.setItem(ft,e),r&&s.setItem(lt,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(r,!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},a,{},r))}return c(t)}}}}var mt=o(function(N){!function(t){var u,e=Object.prototype,s=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",n=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag",a=t.regeneratorRuntime;if(a)N.exports=a;else{(a=t.regeneratorRuntime=N.exports).wrap=v;var l="suspendedStart",p="suspendedYield",d="executing",y="completed",g={},c={};c[o]=function(){return this};var f=Object.getPrototypeOf,h=f&&f(f(A([])));h&&h!==e&&s.call(h,o)&&(c=h);var m=j.prototype=O.prototype=Object.create(c);w.prototype=m.constructor=j,j.constructor=w,j[i]=w.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(m),t},a.awrap=function(t){return{__await:t}},P(E.prototype),E.prototype[n]=function(){return this},a.AsyncIterator=E,a.async=function(t,e,r,n){var o=new E(v(t,e,r,n));return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},P(m),m[i]="Generator",m[o]=function(){return this},m.toString=function(){return"[object Generator]"},a.keys=function(r){var n=[];for(var t in r)n.push(t);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=A,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function t(t,e){return i.type="throw",i.arg=r,n.next=t,e&&(n.method="next",n.arg=u),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),c=s.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=u),g}}}function v(t,e,r,n){var i,a,c,u,o=e&&e.prototype instanceof O?e:O,s=Object.create(o.prototype),f=new k(n||[]);return s._invoke=(i=t,a=r,c=f,u=l,function(t,e){if(u===d)throw new Error("Generator is already running");if(u===y){if("throw"===t)throw e;return _()}for(c.method=t,c.arg=e;;){var r=c.delegate;if(r){var n=S(r,c);if(n){if(n===g)continue;return n}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(u===l)throw u=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u=d;var o=b(i,a,c);if("normal"===o.type){if(u=c.done?y:p,o.arg===g)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u=y,c.method="throw",c.arg=o.arg)}}),s}function b(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function O(){}function w(){}function j(){}function P(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function E(u){var e;this._invoke=function(r,n){function t(){return new Promise(function(t,e){!function e(t,r,n,o){var i=b(u[t],u,r);if("throw"!==i.type){var a=i.arg,c=a.value;return c&&"object"==typeof c&&s.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,n,o)},function(t){e("throw",t,n,o)}):Promise.resolve(c).then(function(t){a.value=t,n(a)},function(t){return e("throw",t,n,o)})}o(i.arg)}(r,n,t,e)})}return e=e?e.then(t,t):t()}}function S(t,e){var r=t.iterator[e.method];if(r===u){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=u,S(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var n=b(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,g;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=u),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(s.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=u,t.done=!0,t};return n.next=n}}return{next:_}}function _(){return{value:u,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())}),vt=function(){return this||"object"==typeof self&&self}()||Function("return this")(),bt=vt.regeneratorRuntime&&0<=Object.getOwnPropertyNames(vt).indexOf("regeneratorRuntime"),Ot=bt&&vt.regeneratorRuntime;vt.regeneratorRuntime=void 0;var wt=mt;if(bt)vt.regeneratorRuntime=Ot;else try{delete vt.regeneratorRuntime}catch(t){vt.regeneratorRuntime=void 0}var jt=wt;function Pt(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var Et=function(c){return function(){var t=this,a=arguments;return new Promise(function(e,r){var n=c.apply(t,a);function o(t){Pt(n,e,r,o,i,"next",t)}function i(t){Pt(n,e,r,o,i,"throw",t)}o(void 0)})}};function St(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xt(o,i,a){return new Promise(function(e,r){return i()?e(o):a<1?r(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(r,!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):St(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},o,{queue:!0})):(n=10,new Promise(function(t){return setTimeout(t,n)})).then(function(t){return xt(o,i,a-10).then(e,r)});var n})}var It=function(t){if(Array.isArray(t))return t};var kt=function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r};var At=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")};var _t=function(t,e){return It(t)||kt(t,e)||At()};function Nt(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(e).filter(function(t){var e=n.plugins||{};return!1!==e[t]&&(!0===e[t]||(!r[t]||!1!==r[t].enabled))}).map(function(t){return e[t]})}function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(r,!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Lt(t,e,r,n,o){return Mt.apply(this,arguments)}function Mt(){return(Mt=Et(jt.mark(function t(e,r,n,o,i){var a,c,u,s,f,l,p,d,y,g,h,m;return jt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a="function"==typeof r?r():r,c=e.type,u=c.replace(/Start$/,""),e._&&e._.called)return t.abrupt("return",e);t.next=5;break;case 5:return s=n.getState(),f=Nt(a,s.plugins,e.options),l=f.map(function(t){return t.NAMESPACE}),p=Gt(c,f,a),t.next=11,qt({action:e,data:{exact:p.before,namespaced:p.beforeNS},state:s,allPlugins:a,allMatches:p,instance:n,store:o,EVENTS:i});case 11:if(Yt(d=t.sent,l.length))return t.abrupt("return",d);t.next=14;break;case 14:if(f.filter(function(t){return!Ut(d,t.NAMESPACE)}),c!==u){t.next=19;break}y=d,t.next=22;break;case 19:return t.next=21,qt({action:Dt({},d,{type:u}),data:{exact:p.during,namespaced:p.duringNS},state:s,allPlugins:a,allMatches:p,instance:n,store:o,EVENTS:i});case 21:y=t.sent;case 22:if(c.match(/Start$/))return g="".concat(u,"End"),t.next=26,qt({action:Dt({},y,{type:g}),data:{exact:p.after,namespaced:p.afterNS},state:s,allPlugins:a,allMatches:p,instance:n,store:o,EVENTS:i});t.next=29;break;case 26:h=t.sent,(m=Rt(h))&&m({payload:h});case 29:return t.abrupt("return",d);case 30:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Rt(n){return!!n.meta&&Object.keys(n.meta).reduce(function(t,e){var r=n.meta[e];return"function"==typeof r?r:t},!1)}function qt(t){return Ct.apply(this,arguments)}function Ct(){return(Ct=Et(jt.mark(function t(e){var g,a,h,r,m,n,v,o,b,i,O,c,w,j,P,u;return jt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return g=e.data,a=e.action,h=e.instance,r=e.state,m=e.allPlugins,n=e.allMatches,v=e.store,o=e.EVENTS,b=r.plugins,i=r.context,O=a.type,c=g.exact.map(function(t){return t.pluginName}),O.match(/Start$/)&&(c=n.during.map(function(t){return t.pluginName})),w=Ht(h,c),j=g.exact.reduce(function(t,e){var r=e.pluginName,n=e.methodName,o=!1;return n.match(/^initialize/)||n.match(/^reset/)||(o=!b[r].loaded),i.offline&&(n.match(/^page/)||n.match(/^track/)||n.match(/^identify/))&&(o=!0),t["".concat(r)]=o,t},{}),t.next=9,g.exact.reduce(function(){var n=Et(jt.mark(function t(e,r,n){var u,o,i;return jt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=r.pluginName,t.next=3,e;case 3:if(o=t.sent,g.namespaced&&g.namespaced[u])return t.next=7,g.namespaced[u].reduce(function(){var n=Et(jt.mark(function t(e,r,n){var o,i,a,c;return jt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=function(r,n,o){return function(t,e){return Dt({},r,{abort:{reason:t,plugins:e||[n],caller:O,from:o||n}})}},t.next=3,e;case 3:if(o=t.sent,r.method&&"function"==typeof r.method){t.next=6;break}return t.abrupt("return",o);case 6:return Wt(r.methodName,r.pluginName),t.next=9,r.method({payload:o,instance:h,abort:i(o,u,r.pluginName),config:Ft(u,b,m),plugins:b});case 9:return a=t.sent,c="object"===_(a)?a:{},t.abrupt("return",Promise.resolve(Dt({},o,{},c)));case 12:case"end":return t.stop()}},t)}));return function(t,e,r){return n.apply(this,arguments)}}(),Promise.resolve(a));t.next=11;break;case 7:i=t.sent,o[u]=i,t.next=12;break;case 11:o[u]=a;case 12:return t.abrupt("return",Promise.resolve(o));case 13:case"end":return t.stop()}},t)}));return function(t,e,r){return n.apply(this,arguments)}}(),Promise.resolve({}));case 9:return P=t.sent,t.next=12,g.exact.reduce(function(){var n=Et(jt.mark(function t(e,r,n){var o,i,a,c,u,s,f,l,p,d,y;return jt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=g.exact.length===n+1,i=r.pluginName,a=m[i],t.next=5,e;case 5:if(c=t.sent,Ut(u=P[i]?P[i]:{},i))return zt({data:u,method:O,instance:h,pluginName:i,store:v}),t.abrupt("return",Promise.resolve(c));t.next=10;break;case 10:if(Ut(c,i))return o&&zt({data:c,method:O,instance:h,store:v}),t.abrupt("return",Promise.resolve(c));t.next=13;break;case 13:if(j.hasOwnProperty(i)&&!0===j[i])return v.dispatch({type:"queue",plugin:i,payload:u,_:{called:"queue",from:"queueMechanism"}}),t.abrupt("return",Promise.resolve(c));t.next=16;break;case 16:return s=w(P[i],m[i]),t.next=19,a[O]({hello:i,abort:s.abort,payload:P[i],instance:h,config:Ft(i,b,m),plugins:b});case 19:return f=t.sent,l="object"===_(f)?f:{},p=Dt({},c,{},l),Ut(d=P[i],i)?zt({data:d,method:O,instance:h,pluginName:i,store:v}):(y="".concat(O,":").concat(i),(y.match(/:/g)||[]).length<2&&!O.match(/^bootstrap/)&&!O.match(/^ready/)&&h.dispatch(Dt({},d,{type:y,_:{called:y,from:"submethod"}}))),t.abrupt("return",Promise.resolve(p));case 25:case"end":return t.stop()}},t)}));return function(t,e,r){return n.apply(this,arguments)}}(),Promise.resolve(a));case 12:if(u=t.sent,O.match(/Start$/)||O.match(/^registerPlugin/)||O.match(/^ready/)||O.match(/^bootstrap/)||O.match(/^params/)){t.next=18;break}if(o.plugins.includes(O),u._&&u._.originalAction===O)return t.abrupt("return",u);t.next=17;break;case 17:v.dispatch(Dt({},u,{},{_:{originalAction:u.type,called:u.type,from:"engineEnd"}}));case 18:return t.abrupt("return",u);case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function zt(t){var e=t.data,r=t.method,n=(t.instance,t.pluginName),o=t.store,i=n?":".concat(n):"",a="".concat(r,"Aborted").concat(i);o.dispatch(Dt({},e,{type:a,_:{called:a,from:"abort"}}))}function Ft(t,e,r){return e[t]&&e[t].config?e[t].config:r[t]&&r[t].config?r[t].config:{}}function Vt(r,t){return t.reduce(function(t,e){return e[r]?t.concat({methodName:r,pluginName:e.NAMESPACE,method:e[r]}):t},[])}function $t(t,e){var r=t.replace(/Start$/,""),n=e?":".concat(e):"";return["".concat(t).concat(n),"".concat(r).concat(n),"".concat(r,"End").concat(n)]}function Gt(u,s,t){var e=$t(u).map(function(t){return Vt(t,s)});return s.reduce(function(t,e){var r=e.NAMESPACE,n=$t(u,r).map(function(t){return Vt(t,s)}),o=_t(n,3),i=o[0],a=o[1],c=o[2];return i.length&&(t.beforeNS[r]=i),a.length&&(t.duringNS[r]=a),c.length&&(t.afterNS[r]=c),t},{before:e[0],beforeNS:{},during:e[1],duringNS:{},after:e[2],afterNS:{}})}function Ut(t,e){var r=t.abort;return!!r&&(!0===r||(Jt(r,e)||r&&Jt(r.plugins,e)))}function Yt(t,e){var r=t.abort;if(!r)return!1;if(!0===r||"string"==typeof r)return!0;var n=r.plugins;return Bt(r)&&r.length===e||Bt(n)&&n.length===e}function Bt(t){return Array.isArray(t)}function Jt(t,e){return!(!t||!Bt(t))&&t.includes(e)}function Ht(g,h){return function(t,e,r){var n=e.config,o=e.NAMESPACE,i="".concat(o,".").concat(t.type);r&&(i=r.event);var a,c,u,s,f,l,p,d,y=t.type.match(/Start$/)?(u=o,s=i,f=h,l=r,p=t,function(t,e){var r=l?l.NAMESPACE:u,n=e&&Bt(e)?e:f;if(l&&(!(n=e&&Bt(e)?e:[u]).includes(u)||1!==n.length))throw new Error('Method "'.concat(s,'" can only abort "').concat(u,'" plugin. ').concat(JSON.stringify(n)," input valid"));return Dt({},p,{abort:{reason:t,plugins:n,caller:s,_:r}})}):(a=t,c=i,function(){throw new Error('Action "'.concat(a.type,'" is not cancellable. Remove abort call from plugin ').concat(c))});return{payload:(d=t,Object.keys(d).reduce(function(t,e){return"type"===e||("object"===_(d[e])?t[e]=Object.assign({},d[e]):t[e]=d[e]),t},{})),instance:g,config:n||{},abort:y}}}function Wt(t,e){var r=Xt(t);if(r&&r.name===e){var n=Xt(r.method),o=n?'or "'.concat(n.method,'"'):"";throw new Error(['Plugin "'.concat(e,'" is calling method [').concat(t,"]"),"Plugins should not call their own namespace.",'Use "'.concat(r.method,'" ').concat(o,' in "').concat(e,'" plugin instead of "').concat(t,'"')].join("\n"))}}function Xt(t){var e=t.match(/(.*):(.*)/);return!!e&&{method:e[1],name:e[2]}}function Zt(){return(new Date).getTime()}var Kt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Qt=function t(){var a=this;Kt(this,t),g(this,"before",[]),g(this,"after",[]),g(this,"addMiddleware",function(t,e){a[e]=a[e].concat(t)}),g(this,"removeMiddleware",function(e,t){var r=a[t].findIndex(function(t){return t===e});-1!==r&&(a[t]=[].concat(A(a[t].slice(0,r)),A(a[t].slice(r+1))))}),g(this,"resetMiddlewares",function(t){t?a[t]=[]:(a.before=[],a.after=[])}),g(this,"dynamicMiddlewares",function(i){return function(o){return function(n){return function(t){var e={getState:o.getState,dispatch:function(t){return o.dispatch(t)}},r=a[i].map(function(t){return t(e)});return R.apply(void 0,A(r))(n)(t)}}}})};function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(r,!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var re={};function ne(c){return function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:re,t=1<arguments.length?arguments[1]:void 0,e={};if("initialize:aborted"===t.type)return r;if(/^registerPlugin:([^:]*)$/.test(t.type)){var n=t.type.split(":")[1],o=c()[n];return o&&n?(e[n]={enabled:!0,initialized:!o.initialize,loaded:Boolean(o.loaded()),config:o.config||{}},ee({},r,{},e)):r}if(/^initialize:([^:]*)$/.test(t.type)){var i=t.type.split(":")[1],a=c()[i];return a&&i?(e[i]=ee({},r[i],{},{initialized:!0,loaded:Boolean(a.loaded())}),ee({},r,{},e)):r}if(/^ready:([^:]*)$/.test(t.type))return e[t.name]=ee({},r[t.name],{},{loaded:!0}),ee({},r,{},e);switch(t.type){case ut.disablePlugin:return Array.isArray(t.name)?e=t.name.reduce(function(t,e){return t[e]=ee({},r[e],{},{enabled:!1}),t},r):e[t.name]=ee({},r[t.name],{},{enabled:!1}),ee({},r,{},e);case ut.enablePlugin:return Array.isArray(t.name)?e=t.name.reduce(function(t,e){return t[e]=ee({},r[e],{},{enabled:!0}),t},r):e[t.name]=ee({},r[t.name],{},{enabled:!0}),ee({},r,{},e);default:return r}}}var oe,ie,ae,ce;function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(r,!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}oe=function(){if(!C)return!1;var t=navigator.appVersion;return-1!==t.indexOf("Win")?"Windows":-1!==t.indexOf("Mac")?"MacOS":-1!==t.indexOf("X11")?"UNIX":-1!==t.indexOf("Linux")?"Linux":"Unknown OS"}(),ie=function(t,e){if(!C)return!1;var r={source:"(direct)",medium:"(none)",campaign:"(not set)"};t&&G(t)&&(r.referrer=t);var n=function(t){if(!t||!C)return!1;var e,r,n=J(t),o=document.createElement("a");if(o.href=t,-1<o.hostname.indexOf(H)&&(n=H),W[n]){var i=W[n],a="string"==typeof i?i:i.p,c=new RegExp(a+"=.*?([^&#]*|$)","gi"),u=o.search.match(c);return{source:i.n||(e=n,r=e.split("."),1<r.length?r.slice(0,-1).join("."):e),medium:"organic",term:(u?u[0].split("=")[1]:"")||"(not provided)"}}var s=G(t)?"referral":"internal";return{source:o.hostname,medium:s}}(t);n&&Object.keys(n).length&&(r=Object.assign({},r,n));var o=U(e),i=Object.keys(o);if(i.length){var a=i.reduce(function(t,e){return e.match(/^utm_/)&&(t["".concat(e.replace(/^utm_/,""))]=o[e]),e.match(/^(d|g)clid/)&&(t.source=H,t.medium=o.gclid?"cpc":"cpm",t[e]=o[e]),t},{});r=Object.assign({},r,a),(o.dclid||o.gclid)&&(r.source=H,r.medium=o.gclid?"cpc":"cpm")}return r}(),ae=function(){if(!C)return null;var t=navigator,e=t.language,r=t.languages,n=t.userLanguage;return r&&r.length?r[0]:n||e}(),ce="undefined"==typeof Intl||"function"!=typeof Intl.DateTimeFormat||"function"!=typeof Intl.DateTimeFormat().resolvedOptions?null:Intl.DateTimeFormat().resolvedOptions().timeZone;var fe={initialized:!1,sessionId:ot(),app:null,version:null,debug:!1,offline:!!C&&!navigator.onLine,os:{name:oe},userAgent:C?navigator.userAgent:"node",library:{name:"analytics",version:"0.1.15"},timezone:ce,locale:ae,campaign:{},referrer:ie};function le(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:fe,e=1<arguments.length?arguments[1]:void 0,r=t.initialized,n=e.type,o=e.campaign;switch(n){case ut.campaign:return se({},t,{},{campaign:o});case ut.offline:return se({},t,{},{offline:!0});case ut.online:return se({},t,{},{offline:!1});default:return r?t:se({},fe,{},t,{},{initialized:!0})}}function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function de(t){var e=function(){if(C)for(var t,e=document.getElementsByTagName("link"),r=0;t=e[r];r++)if("canonical"===t.getAttribute("rel"))return t.getAttribute("href")}();return e?e.match(/\?/)?e:"".concat(e).concat(t):window.location.href.replace(/#.*$/,"")}var ye=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!C)return t;var e,r,n,o=document,i=o.title,a=o.referrer,c=window,u=c.location,s=c.innerWidth,f=c.innerHeight,l=u.hash,p=u.search,d=de(p),y={title:i,url:d,path:(e=d,r=/(http[s]?:\/\/)?([^\/\s]+\/)(.*)/g.exec(e),n=r&&r[3]?r[3].split("?")[0].replace(/#.*$/,""):"","/".concat(n)),hash:l,search:p,width:s,height:f};return a&&""!==a&&(y.referrer=a),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(r,!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},y,{},t)},ge=ye();function he(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:ge,e=1<arguments.length?arguments[1]:void 0;switch(e.type){case ut.page:return Object.assign({},t,e.data);default:return t}}function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var ve={event:{},lastEvent:null,history:[]};function be(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:ve,e=1<arguments.length?arguments[1]:void 0,r=e.type,n=e.payload,o=e.options,i=e.eventName;switch(r){case ut.track:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(r,!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{},{event:{eventName:i,payload:n,options:o},lastEvent:e.eventName,history:t.history.concat(e)});default:return t}}function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var we={actions:[]};function je(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:we,e=1<arguments.length?arguments[1]:void 0,r=e.type,n=(e.data,e.timestamp,e.payload);switch(r){case"queue":return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(r,!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{actions:n&&n.type&&"identify"===n.type?[e].concat(t.actions):t.actions.concat(e)});case"dequeue":return[];default:return t}}var Pe="object"===("undefined"==typeof self?"undefined":_(self))&&self.self===self&&self||"object"===("undefined"==typeof global?"undefined":_(global))&&global.global===global&&global||void 0;function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Se(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0;if(e&&e.type===ut.setItemEnd&&e.key===st)return Object.assign({},t,{anonymousId:e.value});switch(e.type){case ut.identify:return Object.assign({},t,{userId:e.userId,traits:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(r,!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t.traits,{},e.traits)});case ut.reset:return Object.assign({},t,{userId:null,anonymousId:null,traits:null});default:return t}}function xe(){return{userId:nt.getItem(ft),anonymousId:nt.getItem(st),traits:nt.getItem(lt)||{}}}var Ie=function(t){return"__TEMP__".concat(t)};function ke(t,e,r){var n=e.getState("user")[t];if(n)return n;if(r&&"object"===_(r)&&r[t])return r[t];var o=xe()[t];return o||(Pe[Ie(t)]?Pe[Ie(t)]:void 0)}function Ae(t,e,r,n){for(n=0,e=e.split?e.split("."):e;t&&n<e.length;)t=t[e[n++]];return void 0===t||n<e.length?r:t}function _e(e){var r=function(t,e,r){if(!C)return!1;var n=window[(r?"add":"remove")+"EventListener"];t.split(" ").forEach(function(t){n(t,e)})}.bind(null,"online offline",function(t){return Promise.resolve(!navigator.onLine).then(e)});return r(!0),function(t){r(!1)}}function Ne(){return Array.prototype.slice.call(arguments).reduce(function(t,e){return t||("function"==typeof e?e:t)},!1)}function Te(){return Pe.__ANALYTICS_HISTORY__=[],function(i){return function(t,e,r){var n=i(t,e,r),o=n.dispatch;return Object.assign(n,{dispatch:function(t){var e=t.action||t;return Pe.__ANALYTICS_HISTORY__.push(e),o(t)}})}}}function De(t){return function(){return R(R.apply(null,arguments),Te())}}function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Me(l,o,p){return setInterval(function(){var c=o(),t=l.getState(),u=t.plugins,e=t.context,s=t.queue,f=t.user;if(!e.offline&&s&&s.actions&&s.actions.length){var r=s.actions.reduce(function(t,e,r){return u[e.plugin].loaded?(t.process.push(e),t.processIndex.push(r)):(t.requeue.push(e),t.requeueIndex.push(r)),t},{processIndex:[],process:[],requeue:[],requeueIndex:[]});if(r.processIndex&&r.processIndex.length){r.processIndex.forEach(function(t){var e=s.actions[t],r=e.plugin,n=e.payload.type,o=c[r][n];if(o&&"function"==typeof o){var i=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return["userId","anonymousId"].reduce(function(t,e){var r=function(t,e,r){if(t.hasOwnProperty(r)&&!t[r]&&e[r])return Object.assign({},t,g({},"".concat(r),e[r]));return t}(t,n,e);return r},t)}(e.payload,f);o({payload:i,config:u[r].config,instance:p});var a="".concat(n,":").concat(r);l.dispatch(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(r,!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},i,{type:a,_:{called:a,from:"queueDrain"}}))}});var n=s.actions.filter(function(t,e){return-1===r.processIndex.indexOf(e)});s.actions=n}}},3e3)}function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(r,!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Ce=function(t,e,r){return{type:ut.setItemStart,timestamp:Zt(),key:t,value:e,options:r}},ze=function(t,e){return{type:ut.removeItemStart,timestamp:Zt(),key:t,options:e}},Fe=function(t,e){return nt.getItem(t,e)};function Ve(){var b,O,w,j,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.reducers||{},r=(t.plugins||[]).reduce(function(t,e){if("function"!=typeof e&&e.NAMESPACE){var r=e.EVENTS?Object.keys(e.EVENTS).map(function(t){return e.EVENTS[t]}):[],n=Object.keys(e).concat(r),o=new Set(t.events.concat(n));if(t.events=Array.from(o),t.pluginsArray=t.pluginsArray.concat(e),t.plugins[e.NAMESPACE])throw new Error('Analytics "'.concat(e.NAMESPACE,'" loaded twice!'));return t.plugins[e.NAMESPACE]=e,t.plugins[e.NAMESPACE].loaded||(t.plugins[e.NAMESPACE].loaded=function(){return!0}),t}return t.middlewares=t.middlewares.concat(e),t},{plugins:{},pluginsArray:[],middlewares:[],events:[]}),c=r.plugins,n=r.events.filter(function(t){return!ct.includes(t)}),o=new Set(n.concat(at).filter(function(t){return!ct.includes(t)})),i=Array.from(o).sort(),a=n.sort(),u=function(t){return t?Object.keys(c).map(function(t){return c[t]}):c},s=new Qt,f=s.addMiddleware,l=s.removeMiddleware,p=s.dynamicMiddlewares,d=function(){throw new Error("Abort not allowed from listener")},y={identify:function(t,e,r,n){var o="string"==typeof t?t:null,i="object"===_(t)?t:e,a=r||{},c=Ne(e,r,n),u=y.user(),s=(Pe[Ie("userId")]=o)||i.userId||ke("userId",y,i);I.dispatch(qe({type:ut.identifyStart,userId:s,traits:i||{},options:a,anonymousId:u.anonymousId},u.id&&u.id!==o&&{previousId:u.id},{meta:qe({timestamp:Zt()},c&&{callback:c})}))},track:function(t,e,r,n){var o="object"===_(t)?t.event:t;if(!o||"string"!=typeof o)throw new Error("EventName not supplied");var i="object"===_(t)?t:e||{},a="object"===_(r)?r:{},c=Ne(e,r,n),u=ke("userId",y,e),s=ke("anonymousId",y,e);I.dispatch({type:ut.trackStart,event:o,properties:i,options:a,userId:u,anonymousId:s,meta:qe({timestamp:Zt()},c&&{callback:c})})},page:function(t,e,r){var n="object"===_(t)?t:{},o="object"===_(e)?e:{},i=Ne(t,e,r),a=ke("userId",y,n),c=ke("anonymousId",y,n);I.dispatch({type:ut.pageStart,properties:ye(n),options:o,userId:a,anonymousId:c,meta:qe({timestamp:Zt()},i&&{callback:i})})},user:function(t){if("userId"===t||"id"===t)return ke("userId",y);var e=y.getState("user");return t?Ae(e,t):e},reset:function(t){var e;I.dispatch((e=t,{type:ut.resetStart,timestamp:Zt(),callback:e}))},ready:function(t){return y.on(ut.ready,t)},on:function(r,n){if(!r||!n||"function"!=typeof n)return!1;if("bootstrap"===r)throw new Error("Listeners not allowed for ".concat(r));var o=/Start$|Start:/;if("*"===r){var t=function(t){return function(e){return function(t){return t.type.match(o)&&n({payload:t,instance:y,plugins:c}),e(t)}}},e=function(t){return function(e){return function(t){return t.type.match(o)||n({payload:t,instance:y,plugins:c}),e(t)}}};return f(t,"before"),f(e,"after"),function(){l(t,"before"),l(e,"after")}}var i=r.match(o)?"before":"after",a=function(t){return function(e){return function(t){return t.type===r&&n({payload:t,instance:y,plugins:c,abort:d}),e(t)}}};return f(a,i),function(){return l(a,i)}},once:function(t,r){if(!t||!r||"function"!=typeof r)return!1;var n=y.on(t,function(t){var e=t.payload;r({payload:e,instance:y,plugins:c,abort:d}),n()});return n},getState:function(t){var e=I.getState();return t?Ae(e,t):Object.assign({},e)},dispatch:function(t){var e,r="string"==typeof t?{type:t}:t;if(e=r.type,at.includes(e))throw new Error('Trying to dispatch analytics reservedAction "'.concat(r.type,'"'));var n=r.meta||{},o=t._||{},i=qe({},r,{meta:qe({timestamp:Zt()},n),_:qe({originalAction:r.type},o)});I.dispatch(i)},enablePlugin:function(t,e){var r,n;I.dispatch((r=t,n=e,{type:ut.enablePlugin,name:r,callback:n,_:{originalAction:ut.enablePlugin}}))},disablePlugin:function(t,e){var r,n;I.dispatch((r=t,n=e,{type:ut.disablePlugin,name:r,callback:n,_:{originalAction:ut.disablePlugin}}))},loadPlugin:function(t){I.dispatch({type:ut.loadPlugin,plugins:t?[t]:Object.keys(u())})},storage:{getItem:Fe,setItem:function(t,e,r){I.dispatch(Ce(t,e,r))},removeItem:function(t,e){I.dispatch(ze(t,e))}},setAnonymousId:function(t,e){y.storage.setItem(st,t,e)},events:{all:i,core:at,plugins:a}},g=r.middlewares.concat([p("before"),(b=y,O=u,w={all:i,plugins:a},j={},function(v){return function(m){return e=Et(jt.mark(function t(e){var r,n,o,i,a,c,u,s,f,l,p,d,y,g,h;return jt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.type,n=e.name,o=e.callback,(i=e).abort)return t.abrupt("return",m(e));t.next=4;break;case 4:if(r!==ut.disablePlugin&&r!==ut.enablePlugin||o&&o(n),r===ut.loadPlugin)return a=O(),c=Object.keys(a).filter(function(t){return e.plugins.includes(t)}).reduce(function(t,e){return t[e]=a[e],t},{}),u={type:ut.initializeStart,plugins:e.plugins},t.next=11,Lt(u,c,b,v,w);t.next=13;break;case 11:return s=t.sent,t.abrupt("return",m(s));case 13:if(r===ut.initializeEnd&&(f=O(),l=Object.keys(f),p=l.filter(function(t){return e.plugins.includes(t)}).map(function(t){return f[t]}),d=[],y=[],g=p.map(function(e){var t=e.loaded,r=e.NAMESPACE;return xt(e,t,1e4).then(function(t){j[r]||(v.dispatch({type:ut.pluginReadyType(r),name:r,events:Object.keys(e).filter(function(t){return!ct.includes(t)})}),j[r]=!0),d=d.concat(r)}).catch(function(t){if(t instanceof Error)throw new Error(t);return y=y.concat(t.NAMESPACE),t})}),Promise.all(g).then(function(t){setTimeout(function(){l.length===g.length&&v.dispatch({type:"ready",plugins:d,failed:y})},0)})),"bootstrap"!==r)return t.next=17,Lt(e,O,b,v,w);t.next=19;break;case 17:return h=t.sent,t.abrupt("return",m(h));case 19:return t.abrupt("return",m(i));case 20:case"end":return t.stop()}},t)})),function(t){return e.apply(this,arguments)};var e}}),function(t){return function(i){return function(t){var e=t.type,r=t.key,n=t.value,o=t.options;if(e===ut.setItem||e===ut.removeItem){if(t.abort)return i(t);e===ut.setItem?nt.setItem(r,n,o):nt.removeItem(r,o)}return i(t)}}},yt(y),ht(y),p("after")]),h={context:le,user:Se,page:he,track:be,plugins:ne(u),queue:je},m=R,v=R;if(C&&t.debug){var P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;P&&(m=P({trace:!0,traceLimit:25})),v=function(){return 0===arguments.length?Te():"object"===_(arguments[0])?De(arguments[0]):De().apply(null,arguments)}}var E,S=(E=t,Object.keys(E).reduce(function(t,e){return"plugins"===e||"reducers"===e||(t[e]=E[e]),t},{})),x={context:S,user:xe(),plugins:r.pluginsArray.reduce(function(t,e){var r=e.NAMESPACE,n=e.config,o=e.loaded;return t[r]={enabled:!0,initialized:!e.initialize,loaded:Boolean(o()),config:n||{}},t},{})},I=L(M(qe({},h,{},e)),x,v(m(function(){for(var t=arguments.length,u=Array(t),e=0;e<t;e++)u[e]=arguments[e];return function(c){return function(t,e,r){var n,o=c(t,e,r),i=o.dispatch,a={getState:o.getState,dispatch:function(t){return i(t)}};return n=u.map(function(t){return t(a)}),i=R.apply(void 0,n)(o.dispatch),q({},o,{dispatch:i})}}}.apply(void 0,A(g))))),k=Object.keys(c);return I.dispatch({type:ut.bootstrap,plugins:k,config:S}),I.dispatch({type:ut.registerPlugins,plugins:k}),r.pluginsArray.map(function(t,e){var r=t.bootstrap,n=t.config;r&&"function"==typeof r&&r({instance:y,config:n,payload:t});var o=ne.length===e+1;I.dispatch({type:ut.registerPluginType(t.NAMESPACE),name:t.NAMESPACE,plugin:t}),o&&I.dispatch({type:ut.initializeStart,plugins:k})}),_e(function(t){I.dispatch({type:t?ut.offline:ut.online})}),Me(I,u,y),t.exposeRedux?Object.assign({},y,{dispatch:I.dispatch,subscribe:I.subscribe,replaceReducer:I.replaceReducer}):y}return t.default=Ve,t.init=Ve,t.Analytics=Ve,t.EVENTS=ut,t.CONSTANTS=pt,t}({});
